var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&s(e,n,t[n]);return e},c=(e,a)=>t(e,n(a));import{r as o,R as m,u as d,F as u,a as p,b as g}from"./vendor.94b3b7c6.js";function f(e){return void 0===window.fig||void 0===window.fig.settings?null:window.fig.settings[e]}function E(e,t){const n=JSON.stringify(t);window.fig.private({type:"settings",data:{key:e,value:n}}),window.fig._settings[e]=t,window.fig.settings[e]=t}async function h(e,t){return new Promise((n=>{window.fig.fread(e,(e=>{n(t(e))}))}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v=(e,t)=>{const n=e.split(".");return n.length>2&&"keybindings"===n[1]?{nameInSettings:e,app:n[0],keyString:n.slice(2).join("."),action:t}:n.length>1&&"keybindings"===n[0]?{nameInSettings:e,app:null,keyString:n.slice(1).join("."),action:t}:null};function A({title:e,description:t,settingName:n,details:a,default:r}){const l=`${n}-wrapper`,[s,i]=o.exports.useState((()=>{const e=f(n);return null!=e?Boolean(e):null!=r&&Boolean(r)}));return m.createElement("div",{id:l,className:"settingsItem checkbox",tabIndex:0,onKeyDown:e=>{var t;"Enter"===e.key&&(null==(t=document.activeElement)?void 0:t.id)===l&&(e.preventDefault(),i(!s))}},m.createElement("span",{className:"checkbox__title"},e),m.createElement("div",{className:"checkbox__controls"},m.createElement("label",{htmlFor:n,className:"checkbox__description"},m.createElement("input",{id:n,type:"checkbox",checked:s,onChange:e=>{i(e.target.checked),E(n,e.target.checked)},className:"checkbox__box"}),m.createElement("span",{className:"description"},t))),a&&m.createElement("p",{className:"control__details"},a))}const y=()=>{var e;return null!=(e=f("autocomplete.theme"))?e:"dark"},b=o.exports.createContext({theme:y(),setTheme:()=>{}}),N=()=>o.exports.useContext(b),k=({children:e})=>{const[t,n]=o.exports.useState(y());return o.exports.useEffect((()=>{n(y())}),[]),m.createElement(b.Provider,{value:{theme:t,setTheme:n}},e)};const w=e=>"string"==typeof e?e:e.name;function _({title:e,description:t,settingName:n,options:a,default:r,details:l}){N();const[s,i]=o.exports.useState((()=>{const e=f(n);return e||(r||"Please select a value")}));return m.createElement("div",{className:"settingsItem singleSelect"},e&&m.createElement("span",{className:"singleSelect__title"},e),t&&m.createElement("p",{className:"singleSelect__description"},t),m.createElement("div",{className:"singleSelect__controls"},m.createElement("select",{value:s,onChange:e=>{i(e.target.value),E(n,e.target.value)},tabIndex:0},m.createElement("option",{value:"Please select a value",disabled:!0},"Please select a value"),null==a?void 0:a.map((e=>m.createElement("option",{key:w(e)},w(e))))),m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("polyline",{points:"6 9 12 15 18 9"}))),l&&m.createElement("p",{className:"control__details"},l))}function x({title:e,description:t,settingName:n,type:a,details:r,default:l}){const s="number"===a,[i,c]=o.exports.useState(!l||""!=f(n)&&null!=f(n)?null!=(u=f(n))?u:"":l);var u;const p=d((e=>{E(n,e)}),1e3);return m.createElement("div",{className:"settingsItem text"},m.createElement("span",{className:"text__title"},e),m.createElement("p",{className:"text__description"},t),m.createElement("div",{className:"text__controls"},m.createElement("input",{tabIndex:0,type:s?"number":"text",value:i,onChange:e=>{let t=e.target.value;s&&(t=parseInt(null!=t?t:"",10),isNaN(t)||(t=Math.abs(t))),c(String(t)),p(t)},placeholder:e,spellCheck:!1})),r&&m.createElement("p",{className:"control__details"},r))}function S({title:e,description:t,settingName:n,details:a}){const[r,l]=o.exports.useState((()=>{const e=f(n);return e&&Array.isArray(e)?e.join(", "):""})),s=d((e=>{E(n,e.split(",").map((e=>e.trim())).filter(Boolean))}),1e3);return m.createElement("div",{className:"settingsItem multiSelect"},m.createElement("span",{className:"multiSelect__title"},e),m.createElement("p",{className:"multiSelect__description"},t),m.createElement("div",{className:"multiSelect__controls"},m.createElement("input",{tabIndex:0,type:"text",value:r,onChange:e=>{const t=e.target.value;l(t),s(t)},placeholder:e,spellCheck:!1})),a&&m.createElement("p",{className:"control__details"},a))}function C({searchTerm:e,onSearch:t}){return m.createElement("div",{className:"searchBar"},m.createElement("div",{className:"searchWrapper"},m.createElement("div",{className:"searchInnerWrapper"},m.createElement("input",{className:"searchBar__input",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search settings",spellCheck:!1,autoFocus:!0}),m.createElement("svg",{className:"searchBar__icon",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("circle",{cx:"11",cy:"11",r:"8"}),m.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})))))}function I({sectionRef:e,settings:t,categoryLength:n}){const a=(t,n)=>{t.preventDefault(),e.current[n]&&e.current[n].scrollIntoView({behavior:"smooth",block:"start"})},[r,l]=o.exports.useState(!1),[s,i]=o.exports.useState(!1),[c,d]=o.exports.useState(!1),[g,f]=o.exports.useState(!1),[E,h]=o.exports.useState(!1);return m.createElement("div",null,n>0&&m.createElement("div",{className:"Sidebar"},m.createElement("a",{href:"#",className:"head"},"Headings"),m.createElement("a",{href:"Autocomplete",onClick:e=>{r?e.preventDefault():a(e,"autocomplete"),l(!r)}},m.createElement("span",{className:"iconFi"},r?m.createElement(u,null):m.createElement(p,null)),m.createElement("span",{className:"Sidebar__headings"}," Autocomplete")),r&&m.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Autocomplete"==e.category)return m.createElement("a",{key:e.settingName,href:"#",onClick:t=>a(t,e.settingName)},e.title)}))),m.createElement("a",{href:"Appearance",onClick:e=>{s?e.preventDefault():a(e,"Appearance"),i(!s)}},m.createElement("span",null," ",s?m.createElement(u,null):m.createElement(p,null)," "),m.createElement("span",{className:"Sidebar__headings"},"Appearance")),s&&m.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Appearance"==e.category)return m.createElement("a",{key:e.settingName,href:"#",onClick:t=>a(t,e.settingName)},e.title)}))),m.createElement("a",{href:"Pseudoterminal",onClick:e=>{c?e.preventDefault():a(e,"Pseudoterminal"),d(!c)}},m.createElement("span",null,c?m.createElement(u,null):m.createElement(p,null)," "),m.createElement("span",{className:"Sidebar__headings"},"Pseudoterminal")),c&&m.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Pseudoterminal"==e.category)return m.createElement("a",{key:e.settingName,href:"#",onClick:t=>a(t,e.settingName)},e.title)}))),m.createElement("a",{href:"Application",onClick:e=>{g?e.preventDefault():a(e,"Application"),f(!g)}},m.createElement("span",null,g?m.createElement(u,null):m.createElement(p,null)," "),m.createElement("span",{className:"Sidebar__headings"},"Application")),g&&m.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Application"==e.category)return m.createElement("a",{key:e.settingName,href:"#",onClick:t=>a(t,e.settingName)},e.title)}))),m.createElement("a",{href:"Integrations",onClick:e=>{g?e.preventDefault():a(e,"Integrations"),h(!E)}},m.createElement("span",null,E?m.createElement(u,null):m.createElement(p,null)," "),m.createElement("span",{className:"Sidebar__headings"},"Integrations")),E&&m.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Integrations"==e.category)return m.createElement("a",{key:e.settingName,href:"#",onClick:t=>a(t,e.settingName)},e.title)})))),0==n&&m.createElement("h3",{className:"notFound"},"No settings found."))}function L({settings:e}){let t=o.exports.useRef({});const[n,a]=o.exports.useState(""),r=function({searchTerm:e,settings:t}){return o.exports.useMemo((()=>{const n=null==e?void 0:e.toLowerCase();return function(e){const t=[];return e.forEach((e=>{const n=e.category,a=t.findIndex((e=>e.some((e=>e.category==n))));-1!==a?t[a].push(e):t.push([e])})),t}((null!=t?t:[]).filter((e=>{var t,a;if(""===n)return!0;let r=[e.title,e.description];const l=null!=(a=null==(t=e.options)?void 0:t.map((e=>"string"==typeof e?e:e.name)))?a:[];return r.concat(l).some((e=>!!e&&e.toLowerCase().includes(n)))})))}),[t,e])}({settings:e,searchTerm:n});return m.createElement("div",null,m.createElement(C,{searchTerm:n,onSearch:a}),m.createElement("div",{className:"generalPage"},m.createElement("div",{className:"left_sidebar"},m.createElement(I,{sectionRef:t,settings:e,categoryLength:r.length})),m.createElement("div",{className:"right_content"},null==r?void 0:r.map((e=>m.createElement("section",{className:"category",key:e[0].settingName},m.createElement("h1",{className:"category__title",id:e[0].category,ref:n=>t.current[e[0].category]=n},e[0].category),m.createElement("div",{className:"category__rest"},e.map((e=>m.createElement("div",{className:"category__total",key:e.settingName},m.createElement("div",{key:e.settingName,id:e.settingName,className:"category__entry",ref:n=>t.current[e.settingName]=n},function(e){switch(e.type){case"boolean":return m.createElement("div",{className:"line-height-1-2 setting-render"},m.createElement(A,i({},e)));case"single_select":return m.createElement("div",{className:"line-height-1-2 setting-render"},m.createElement(_,i({},e)));case"multiselect":return m.createElement("div",{className:"line-height-1-2 setting-render"},m.createElement(S,i({},e)));case"number":case"text":return m.createElement("div",{className:"line-height-1-2 setting-render"},m.createElement(x,i({},e)));default:return null}}(e))))))))))))}const D=({href:e,children:t})=>m.createElement("button",{className:"link",role:"link",onClick:()=>{window.fig.open(e)}},t);function j(){return m.createElement("section",{className:"about"},m.createElement("img",{src:"./logo-big.png",width:"100px",height:"100px",className:"about__logo"}),m.createElement("section",{className:"about__description"},m.createElement("h2",null,"Fig"),m.createElement("div",{className:"about__info"},m.createElement("p",null,"Version ",window.fig.appversion),m.createElement("p",null,"Copyright © 2021 Hercules Labs Inc.")),m.createElement("div",{className:"about__grid"},m.createElement("dt",null,"Website"),m.createElement("dd",null,m.createElement(D,{href:"https://fig.io"},"fig.io")),m.createElement("dt",null,"Support"),m.createElement("dd",null,m.createElement(D,{href:"https://fig.io/support"},"fig.io/support")),m.createElement("dt",null,"Github"),m.createElement("dd",null,m.createElement(D,{href:"https://github.com/withfig/autocomplete"},"github.com/withfig/autocomplete")),m.createElement("dt",null,"Email"),m.createElement("dd",null,m.createElement(D,{href:"mailto:hello@fig.io"},"hello@fig.io"))),m.createElement("section",{className:"about__dangerZone"},m.createElement("h3",null,"Danger Zone"),m.createElement("div",{role:"button",onClick:()=>{window.fig.private({type:"uninstall",data:{}})}},"Uninstall"))))}const P="Please select an action",R={super:"command",cmd:"command",ctrl:"control",opt:"option",alt:"option",return:"enter",shft:"shift",esc:"escape"},O={command:"⌘",control:"⌃",option:"⌥",shift:"⇧",tab:"Tab ⇥",enter:"Enter ↩",up:"↑",down:"↓",left:"←",right:"→",escape:"Escape ⎋",delete:"⌫"},B=e=>{const t=e.split("+").map((e=>R[e]||e));return[...t.slice(0,-1).sort(),t[t.length-1]].join("+")},M=e=>B(e).split("+").map((e=>e in O?O[e]:e)).join("");function K({keybinding:e,disabled:t=!1,actions:n,onClick:a,onChangeAction:r,deleteItem:l,isRecording:s=!1,recordedKeyString:i}){const{action:c,keyString:o,app:d}=e;let u;u=s?i?M(i):"Record...":o?M(o):"Click to record...";const p=Boolean(s?i:o);return m.createElement("div",{style:{display:"flex",margin:10,alignItems:"center",opacity:t?.66:1}},m.createElement("div",{className:"keybindingEntry__recorder",style:{fontSize:p?14:12,flexShrink:1},onClick:a},u),m.createElement("div",{className:"keybindingEntry__action",style:{flex:1}},m.createElement("div",{className:"keybindingEntry__actionSelect"},m.createElement("select",{value:c||P,onChange:r,tabIndex:0,disabled:t},m.createElement("option",{value:P,disabled:!0},P),m.createElement("option",{value:"ignore"},"Ignore"),null==n?void 0:n.map((e=>m.createElement("option",{key:e,value:e},(e=>{const t=e.replace(/([A-Z])/g," $1").trim();return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})(e))))),!t&&m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("polyline",{points:"6 9 12 15 18 9"}))),!t&&m.createElement("div",{className:"keybindingEntry__delete",onClick:l},m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("line",{x2:"12",y2:"12"}),m.createElement("line",{x1:"12",y2:"12"})))))}const T={8:"delete",9:"tab",13:"enter",16:"shift",17:"control",18:"option",19:"pause",20:"caps_lock",27:"escape",32:"space",33:"page_up",34:"page_down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"forward_delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:";",60:"<",61:"=",62:">",63:"?",64:"@",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"command",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"f13",125:"f14",126:"f15",127:"f16",128:"f17",129:"f18",130:"f19",131:"f20",132:"f21",133:"f22",134:"f23",135:"f24",160:"^",161:"!",162:'"',163:"#",164:"$",165:"%",166:"&",167:"_",168:"(",169:")",170:"*",171:"+",172:"|",173:"hyphen_minus",174:"{",175:"}",176:"~",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},G=new Set(["enter","tab","up","down","right","left","escape","delete"]),J=new Set(["command","control","option","shift"]);function F({keybindings:e,setKeybindings:t,defaultKeybindings:n,autocompleteActions:a}){const r="autocomplete",l=o.exports.useMemo((()=>null==e?void 0:e.filter((e=>e.app===r))),[r,e]),s=o.exports.useMemo((()=>null==l?void 0:l.reduce(((e,t,n)=>(e[`${t.app?`${t.app}.`:""}keybindings.${B(t.keyString)}`]=n,e)),{})),[l]),d=o.exports.useMemo((()=>null==n?void 0:n.filter((e=>{const t=`${e.app?`${e.app}.`:""}keybindings.${B(e.keyString)}`;return!(e.app!==r||s&&t in s)}))),[r,n,s]),[u,p]=o.exports.useState({index:0,isRecording:!1,modifiers:[]}),{modifiers:g,isRecording:f}=u,h=o.exports.useCallback(((e,n)=>{const a=null==s?void 0:s[n];return void 0!==a?a!==e:!!t&&(t((t=>{const{app:a,nameInSettings:r,action:l}=t[e],s=`${a?`${a}.`:""}keybindings.${n}`,o=[...t];return o[e]=c(i({},t[e]),{keyString:n,nameInSettings:s}),E(r,null),E(s,l),o})),!0)}),[t,s]),v=o.exports.useCallback((e=>p({index:e,isRecording:!0,modifiers:[]})),[]),A=o.exports.useCallback((()=>p((e=>c(i({},e),{isRecording:!1,modifiers:[]})))),[]);o.exports.useEffect((()=>{if(f){const e=e=>{console.log({event:e});const t=T[e.keyCode];(e=>1===e.length||G.has(e))(t)?p((e=>{const n=[...e.modifiers,t.toLowerCase()].join("+"),a=h(e.index,n);return c(i({},e),{isRecording:!a,modifiers:[]})})):(e=>J.has(e))(t)&&p((e=>{const n=[...e.modifiers,t];return n.sort(),c(i({},e),{modifiers:n})}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[f]),o.exports.useEffect((()=>{if(f)return document.addEventListener("keyup",A),()=>{document.removeEventListener("keyup",A)}}),[f]);const y=o.exports.useMemo((()=>g.join("+")),[g]),b=o.exports.useCallback(((e,n)=>{A(),t&&t((t=>{if(t[n].action==e.target.value)return t;E(t[n].nameInSettings,e.target.value);const a=[...t];return a[n]=c(i({},t[n]),{action:e.target.value}),a}))}),[t]),N=o.exports.useCallback((e=>{A(),t&&t((t=>(E(t[e].nameInSettings,null),[...t.slice(0,e),...t.slice(e+1)])))}),[t]),k=o.exports.useCallback((()=>{t&&t((e=>[...e,{app:r,keyString:"",action:"ignore",nameInSettings:""}]))}),[r,t]);return m.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},m.createElement("h1",{className:"category__title"},"Custom"),m.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},null==l?void 0:l.map(((e,t)=>{const n=f&&t===u.index;return m.createElement(K,{key:e.keyString,keybinding:e,actions:a,onClick:()=>v(t),onChangeAction:e=>b(e,t),deleteItem:()=>N(t),isRecording:n,recordedKeyString:n?y:void 0})})),m.createElement("div",{className:"newKeybinding",onClick:k},"+")),m.createElement("h1",{className:"category__title"},"Defaults"),m.createElement("div",null,null==d?void 0:d.map(((e,t)=>m.createElement(K,{key:e.keyString,keybinding:e,actions:a,disabled:!0})))))}function Q({currentPage:e,setCurrentPage:t}){const{theme:n}=N();return m.createElement("nav",{className:"settingsNav"},m.createElement("div",{className:"wrapper"},W.map((a=>m.createElement("div",{role:"button",key:a,onClick:()=>t(a),className:"settingsNav__button "+(e===a?"active":"")},function(e,t,n){switch(e){case"General":return m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("circle",{cx:"12",cy:"12",r:"3"}),m.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}));case"Keybindings":return m.createElement("img",{src:"light"===t?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAA6klEQVRoge3ZTWqDUBSG4dfSaekGmnHWniJ03EF31AS8WUA6sIJaY5NUvfbkfeCAf4PzXZGDXJAkSZI0hQ1QAgk4/fNKwBuwHQu7X0GjU9fhO9sP5Qqam6tem5BFK3ACnoZWIoAEPEM38ClPL4spAB5yd7E0A0f3eMEzRe+8/62v/X7H3b1hA0fnHI7OwNHdMof7cs/d3/rpuLs3bODonMPRGTi6Of6H5+b/8DUMHJ1zODoDR9cOfMzWxfyq5qAd+CNDI0t5H7q4pd48zr2XO3V9Ai/nVmJDvXlcraDRv1YF7MbCSpIkSbrcFxipISQm/BUPAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAQAAACQ9RH5AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQflCRwXLiXE6MJZAAAAy0lEQVRYw+3VuwrCQBCF4X/FViT21inji4rvoYK1hbWtrbW2Io4PsBZxCSiCF3Y2ZmdShE2RjwN7GOdJM71ErsEGG2zwH8Njlgg+8iOsKGvQ+ZrdMVKKeqbiEBLP1FgomDaJhYEaDMIwwNpL2bXgVucD95++uPvbRzqnTpwfbD3uPvy6x2F+7e/jf1Inzg+2Hncffn8ffzq2j9sCW49zga+q5qWBN6rwGsKtLtlSKLEnJhxD4j0VCyQ6KsxrNiROMLnWyWCDDTb4i7kB3Pdgrh7VozgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDktMjhUMDA6NTQ6MTMrMDA6MDDnJoZcAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA5LTI4VDAwOjUzOjIzKzAwOjAw+igiegAAAABJRU5ErkJggg==",height:16,width:16});case"About":return m.createElement("img",{src:"light"===t?"./fig.png":"./fig-light.png",height:16,width:16})}}(a,n),m.createElement("span",{className:"settingsNav__title"},a))))))}const W=["General","Keybindings","About"],V=(e,t)=>{o.exports.useEffect((()=>{const t=()=>{!0===window.__isFigInited__&&e()};return t(),window.addEventListener("FIG_INIT_INTERNAL",t),()=>{window.removeEventListener("FIG_INIT_INTERNAL",t)}}),t)};function z(){const[e,t]=o.exports.useState(),[n,a]=o.exports.useState([]),[r,l]=o.exports.useState(),[s,i]=o.exports.useState(),[c,d]=o.exports.useState("Keybindings");N(),o.exports.useEffect((()=>{const e=e=>{if(e.metaKey){const t=parseInt(e.key,10)-1;void 0!==W[t]&&(e.preventDefault(),d(W[t]))}};return window.addEventListener("keypress",e),()=>{window.removeEventListener("keypress",e)}}),[]),V((()=>{h("~/.fig/tools/all-settings.json",(e=>JSON.parse(e).filter((e=>!v(e.settingName,""))))).then(t)}),[]),V((()=>{(async function(){const e=e=>e.map((([e,t])=>v(e,t))).filter((e=>null!==e)),[t,n]=await Promise.all([h("~/.fig/settings.json",(t=>{const n=Object.entries(JSON.parse(t));return e(n)})),h("~/.fig/tools/all-settings.json",(t=>{const n=JSON.parse(t).map((e=>[`${e.settingName}`,`${e.default}`]));return e(n)}))]);return{settingsKeybindings:t,defaultKeybindings:n}})().then((e=>{l(e.defaultKeybindings),a(e.settingsKeybindings)})),h("~/.fig/autocomplete_actions.json",(e=>JSON.parse(e))).then((e=>{i(e)}))}),[]);const u=o.exports.useMemo((()=>{switch(c){case"General":return m.createElement(L,{settings:e});case"About":return m.createElement(j,null);case"Keybindings":return m.createElement(F,{keybindings:n,defaultKeybindings:r,setKeybindings:a,autocompleteActions:s})}}),[c,e,n,r,s]);return m.createElement("div",{className:"app","data-theme":"dark"},m.createElement(Q,{currentPage:c,setCurrentPage:d}),m.createElement("div",{className:"content"},u))}g.render(m.createElement(m.StrictMode,null,m.createElement(k,null,m.createElement(z,null))),document.getElementById("root"));
